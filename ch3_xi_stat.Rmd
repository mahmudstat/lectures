---
title: "Statistics: Chapter 3"
author: Abdullah Al Mahmud
date: \today
output: 
  revealjs::revealjs_presentation:
    theme: sky
    reveal_plugins: ["menu", "chalkboard", "zoom"]
    self_contained: false
    css: css/styles.css
    includes:
      in_header: css/header_stat.html
---

# Chapter 03 (Central Tendency)

## What is Central Tendency?

Why needed?

<div class="container">
<div class="col">
```{r, echo=F}
(h <- head(mtcars[1:5], 8))
summary(h[1:3])
```
</div>
<div class="col">
- Summary
- Comparison
- A value to represent all
</div>
</div>

## Criteria for a Good Measure of Central Tendency{data-transition="convex"}

- Well-defined

> - Understandable
> - Considers all values
> - Suitable for further analysis
> - Not affected by sample fluctuation

## Measures (Averages)

- Arithmetic Mean (AM)
- Geometric Mean (GM)
- Harmonic Mean (HM)
- Median 
- Mode
- Partition Values (Quartiles, Deciles, Percentiles etc.)

## AM

$AM=\bar x=\frac{\sum x}{n}$

If there are frequencies or weights

$\bar x=\frac{\sum f_i x_i}{\sum f_i} \space or \space \frac{\sum w_i x_i}{w_i=n}$

## Find AM 

```{r, echo=FALSE}
set.seed(100)
x <- sample(60,10)
x
```

<div onclick="klikaj('rad1')"><span style="color: blue;">Answer</span></div>
<div id="rad1" style="visibility: hidden">
```{r, echo = FALSE}
mean(x)
```
</div>
<script>
function klikaj(i) {
    document.getElementById(i).style.visibility='visible';
}
</script>

Find AM: 2, 2, 3, 3, 5, 5, 5, 8, 8, 9

There are 2 ways. 

$\bar x = \frac{2+2+...+9}{10}$
<div onclick="klikaj('rad2')"><span style="color: blue;">Answer</span></div>
<div id="rad2" style="visibility: hidden">
```{r, echo=FALSE}
x <- c(2, 2, 3, 3, 5, 5, 5, 8, 8, 9)
mean(x)
```
</div>
<script>
function klikaj(i) {
    document.getElementById(i).style.visibility='visible';
}
</script>

## Mean Using Frequency

For grouped data

| Working hours<br>(x) | Employee<br>(f) | fx |
|:-:|:-:|:-:|
| 2 | 2 | 4 |
| 3 | 2 | 6 |
| 5 | 3 | 15 |
| 8 | 2 | 10 |
| 9 | 1 | 9 |
|  | $\sum f =10$ | $\sum fx = 50$ |

$\therefore \bar x = \frac{\sum fx}{\sum f} =\frac{50}{10}=5$

## Freuency vs Weight

<div class="container">
<div class="col">
Suppose, different judges give different scores, but not all evaluation has same weight. 

| Judge | Rating<br>(x) | Weight<br>(w) | wx |
|:-:|:-:|:-:|:-:|
| 1 | 8 | 2 | 16 |
| 2 | 7 | 3 | 21 |
| 3 | 4 | 5 | 20 |
| 4 | 5 | 1 | 5 |
| 5 | 7 | 3 | 21 |
|  |  | $\sum w_i = 14$ | $\sum w_ix_i = 83$ |
</div>
<div class="col">
$\therefore \bar x = \frac{\sum w_ix_i}{\sum w_i}$


<div onclick="klikaj('rad3')"><span style="color: blue;">Answer</span></div>
<div id="rad3" style="visibility: hidden">
$\frac{83}{14}$
```{r, echo=FALSE}
round(83/14, 2)
```
</div>
<script>
function klikaj(i) {
    document.getElementById(i).style.visibility='visible';
}
</script>
</div>
</div>

## Shortcut Method for AM

<div class="container">
<div class="col">
Calculate the mean in a smart way

```{r, echo=FALSE}
set.seed(100)
x <- sample(1000:1050, 6)
x
```
</div>
<div class="col">
<div onclick="klikaj('rad4')"><span>Show</span></div>
<div id="rad4" style="visibility: hidden">
<small>Subtract a number from all, say 1020</small>
```{r, echo=F}
y <- x-1020
print("The new values are")
y
```

```{r, echo=F}
paste0("Mean of y is ", round(mean(y),2))
paste0("Mean of x is ", round(mean(y)+1020,2))
```
</div>
<script>
function klikaj(i) {
    document.getElementById(i).style.visibility='visible';
}
</script> 

</div>
</div>

## Shortcut Method Formula

<div class="container">
<div class="col">
Consider the values: 1005, 1010, 1015 

If 1000 is subtracted: 5, 10, 15

If again divided by 5: 1, 2, 3

Converted Mean = 2 

Original Mean = $2 \times 5 + 1000=1010$
</div>
<div class="col">
<div onclick="klikaj('rad5')"><span style="color: blue;">Show</span></div>
<div id="rad5" style="visibility: hidden">
x = 1005, 1010, 1015 

> - a = 1000
> - c = 5 
> - y = 1, 2, 3
> - $\bar x = 2 \times 5 + 1000=1010 = a+\bar y \times c$
> - $\bar x = a+\frac{\sum y}{n} \times c$
</div>
<script>
function klikaj(i) {
    document.getElementById(i).style.visibility='visible';
}
</script>
</div>
</div>

## Properties of AM

- $\sum (x_i-\bar x)=0$; can you prove it? 

> - $(x_i-\bar x)^2 \le (x_i-a)^2, \space a \ne \bar x$
> - Depends on change of origin and scale?
> - $\bar x + \bar y =\frac{\sum x+\sum y}{n_x+n_y}$
> - Combined mean: $x_c=\frac{n_1 \bar x_1+n_2 \bar x_2+...+n_k \bar x_k}{n_1+n_2+n_3}$
> - $AM\ge GM \ge HM$ & $AM \times HM = (GM)^2$
> - AM of first n natural numbers = $\frac{n+1}{2}$

## (Dis)advantages of AM

> - Well-defined
> - Less affected by sample fluctuation
> - Comparison among sets is easy
> - Uses all values
> - <span>Suitable for further analysis.<span>
> - <span style="color:red;">Affected by outliers

## Geometric Mean (GM)

$GM=(x_1 \times x_2 \times ... \times x_n)^{(1/n)}$ or
$GM=(x_1^{f_1} \times x_2^{f_2} \times ... \times x_n^{f_n})^{(1/\sum f_i)}$

Find GM: 2, 4, 6
`r x = c(2, 4, 6)`


<div onclick="klikaj('rad6')"><span style="color: blue;">Answer</span></div>
<div id="rad6" style="visibility: hidden">
`r round(exp(mean(log(x))),2)`
</div>
<script>
function klikaj(i) {
    document.getElementById(i).style.visibility='visible';
}
</script>

Try this one: 20020, 30080, 50086, 40130

## Concept of Logarithm
<small>

> "An admirable artifice which, by reducing to a few days the labour of many months, doubles the life of the astronomer, and spares him the errors and disgust inseparable from long calculations."
>
> --- Pierre-Simon Laplace 

- Log and Antilog

</small>

## GM Easier Formula

x = 20020, 30080, 50086, 40130
`r x = c(20020, 30080, 50086, 40130)`

> - log x = `r round(log(x),2)`
> - Mean of logx = $\frac{\sum logx}{n}$
> - Original Mean = $antilog(\frac{\sum logx}{n})$

<div onclick="klikaj('rad7')"><span style="color: blue;">Answer</span></div>
<div id="rad7" style="visibility: hidden">
33168.96
</div>
<script>
function klikaj(i) {
    document.getElementById(i).style.visibility='visible';
}
</script>

## Calculate GM

<div class="container">
<div class="col">
| Marks | # Students |
|:-:|:-:|
| 10-12 | 4 |
| 12-14 | 5 |
| 14-16 | 3 |
| 16-18 | 5 |
| 18-20 | 7 |
| 20-22 | 2 |
</div>
<div class="col">
Make a table using these columns: $x_i, f_i, logx_i, f_ilogx_i$

> - $GM =antilog(\frac{\sum f_i logx_i}{\sum f_i})$
```{r, echo =F}
x <- seq(11,21,2)
f <- c(4,5,3,5,7,2)
```
<div onclick="klikaj('rad8')"><span style="color: blue;">Answer</span></div>
<div id="rad8" style="visibility: hidden">
`r exp(sum(log(x)*f)/sum(f))`
</div>
<script>
function klikaj(i) {
    document.getElementById(i).style.visibility='visible';
}
</script>
</div>
</div>

## (Dis)advantages of GM

- Not affected by outliers
- Less affected by sample fluctuation
- Suitable for further analysis
- What if one or some x =0?
- What if one or some x <0?

## Harmonic Mean

<div class="container">
<div class="col">
Formula: Reciprocal of Mean of $\frac{1}{x_i}$

Reciprocal of $\frac{\frac{1}{x_1}+\frac{1}{x_2}+...+\frac{1}{x_n}}{n}$

Thus, $HM = \frac{n}{\sum \frac{1}{x_i}}$

Calculate: 2, 4, 8

<div onclick="klikaj('rad9')"><span style="color: blue;">Answer</span></div>
<div id="rad9" style="visibility: hidden">
`r x = c(2,4,8)`
`r round(1/mean(1/x),2)`
</div>
<script>
function klikaj(i) {
    document.getElementById(i).style.visibility='visible';
}
</script>
</div>
<div class="col">
For grouped data

> - $HM=\frac{\sum f}{\sum \frac{f}{x}}$
> - For wighted data: $\frac{\sum w}{\sum \frac{w}{x}}$
</div>
</div>

## Story of oil scam 

## Why and When HM

- When there are rates associated, say speed, and numerator is fixed. 
- $Speed, v = \frac{S}{t}$; HM if S is fixed
- Example: A man travels 120 km the first day at 12 kmh, the same distance at 10 kmh on the 2nd day, and at 8 kmh on the 3rd day. Find his average speed. 

## HM Example 2

- A passerby travels 10 kmh at 20 kmh, 5 km at 15 km, and 4 km at 12 kmh. What is the average speed? (Use weighted HM)

- Here, distances are different. Consider them weights. 

> - $HM=\frac{w_1+w_2+w_3}{\frac{w_1}{x_1}+\frac{w_2}{x_2}+\frac{w_3}{x_3}}$


```{r, echo=F}
x <- c(20,15,12)
w <- c(10,5,4)
```

> - HM = `r round(sum(w)/sum(w/x),3)`

# Median

## Find medians

x = 4,5,6,8,9,11,16

y = 4,5,6,8,9,11,16,19

`r x = c(4,5,6,8,9,11,16)`
`r y = c(4,5,6,8,9,11,16,19)`

> - `r paste0("Median of x is ",  median(x))`
> - `r paste0("Median of y is ",  median(y))`
> - Formula for odd n = $\frac{n+1}{2}th \space value$
> - Formula for even n = $\frac{\frac{n}{2}th+(\frac{n}{2}+1)th}{2}$

## Median from Graph

<div class="container">
<div class="col">
| Intervals | cf |
|-|-|
| 0-5 | 1 |
| 5-10 | 2 |
| 10-15 | 4 |
| 15-20 | 6 |
| 20-25 | 7 |
| 25-30 | 10 |
</div>
<div class="col">

```{r, echo=F, fig.show='hide'}
data <- c(16, 26, 12, 10, 27, 30, 14,  1, 25, 20)
h <- hist(data)
intervals <- seq(from = min(h$breaks), to = max(h$breaks), by = h$breaks[2] - h$breaks[1])
intervals <- c(0, intervals[-1])
# Cumulative sums
cf = c(0, cumsum(h$counts))
```

```{r, echo=F}
plot(intervals, cf, type = "b", col = "blue", pch = 20)
```
</div>
</div>

## Dis(advantages) of Median

- Unaffected by outliers (extreme values)
- Graphically estimable
- Affected by sample fluctuation
- Not based on all values
- Not suitable for further mathematical analysis 

## Quartiles, Deciles, and Percentiles

$Q_1= \frac{(n+1)}{4}th \space$

$Q_2, Q_3=?$

Find $Q_1, Q_2, Q_3$ 



## Averages from Grouped Data

Median: $Me = L + \frac{\frac{n}{2}-F_c}{f_m}\times c$

Mode: $M_o=L+\frac{\Delta_1}{\Delta_1+\Delta_2}\times c$

Quartiles: $Q_i = L + \frac{\frac{in}{4}-F_c}{f}\times c$

Find AM, Me, Mo, Q, and P30

| Age | 20-24 | 25-29 | 30-34 | 35-39 | 40-44 | 45-49 | 50-54 | 55-59 | 60-64 |
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| # Employees | 40 | 60 | 200 | 180 | 150 | 110 | 175 | 60 | 25 |

